@page "/catalog"
@page "/catalog/{page}"

@using HomeManagement.UI.Features.Catalog.ProductCategories
@using HomeManagement.UI.Features.Catalog.Products

@inject ILocalizationService Localizer

<TabControl @ref="TabControlArchive"
            Title="@Localizer.GetLocalizedString("Catalogs")"
            FirstTabLabel="@Localizer.GetLocalizedString("Categories")" 
    SecondTabLabel="@Localizer.GetLocalizedString("Products")">

    <FirstTab>
        <ProductCategoryList />
    </FirstTab>

    <SecondTab>
        <ProductList />
    </SecondTab>
</TabControl>


@code
{
    [Parameter]
    public string Page { get; set; }

    private TabControl TabControlArchive;


    protected override void OnAfterRender(bool firtRender)
    {
        base.OnAfterRender(firtRender);

        if (Page != null)
        {
            if (Page == "products")
            {
                TabControlArchive?.ShowSecondTab();
            }
            else
            {
                TabControlArchive?.ShowFirtsTab();
            }
        }
    }
}